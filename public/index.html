<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crash Game Pro</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body { background: #0b0e11; color: #eaecef; font-family: sans-serif; margin: 0; padding: 0; display: flex; flex-direction: column; align-items: center; }
        
        /* ‡¶ü‡¶™ ‡¶¨‡ßç‡¶Ø‡¶æ‡¶≤‡ßá‡¶®‡ßç‡¶∏ ‡¶¨‡¶æ‡¶∞ */
        .top-bar { width: 100%; background: #1e2329; padding: 10px; display: flex; justify-content: space-around; align-items: center; border-bottom: 1px solid #333; position: fixed; top: 0; z-index: 100; }
        .user-info { font-size: 14px; color: #f0b90b; }
        .balance-info { font-weight: bold; font-size: 16px; color: #fff; }

        /* ‡¶ó‡ßá‡¶Æ ‡¶è‡¶∞‡¶ø‡ßü‡¶æ */
        .game-container { margin-top: 80px; text-align: center; width: 90%; }
        #multiplier { font-size: 50px; color: #02c076; margin: 20px 0; font-weight: bold; }

        /* ‡¶¨‡¶æ‡¶ü‡¶® ‡¶∏‡ßç‡¶ü‡¶æ‡¶á‡¶≤ */
        .bet-input { width: 100%; padding: 12px; background: #2b3139; border: 1px solid #474d57; color: white; border-radius: 5px; margin-bottom: 10px; box-sizing: border-box; }
        .btn { width: 100%; padding: 15px; border: none; border-radius: 5px; font-weight: bold; cursor: pointer; margin-bottom: 10px; }
        .btn-bet { background: #02c076; color: white; }
        .btn-menu { background: #2b3139; color: #eaecef; font-size: 13px; margin: 5px 0; }

        /* ‡¶π‡¶ø‡¶°‡ßá‡¶® ‡¶∏‡ßá‡¶ï‡¶∂‡¶® (‡¶°‡¶ø‡¶™‡ßã‡¶ú‡¶ø‡¶ü, ‡¶â‡¶á‡¶•‡¶°‡ßç‡¶∞ ‡¶á‡¶§‡ßç‡¶Ø‡¶æ‡¶¶‡¶ø) */
        .hidden-section { display: none; background: #1e2329; padding: 20px; border-radius: 10px; margin-top: 20px; width: 100%; box-sizing: border-box; border: 1px solid #f0b90b; }
        .close-btn { background: #f84960; padding: 5px 10px; border-radius: 3px; font-size: 12px; float: right; cursor: pointer; }
    </style>
</head>
<body>

    <div class="top-bar">
        <div class="user-info">üë§ <span id="userName">User</span></div>
        <div class="balance-info">üí∞ <span id="balance">10,000</span> Pts</div>
    </div>

    <div class="game-container">
        <div id="multiplier">1.00x</div>
        
        <input type="number" id="betAmount" class="bet-input" placeholder="Enter Amount">
        <button class="btn btn-bet" onclick="alert('Bet Placed!')">PLACE BET</button>

        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-top: 20px;">
            <button class="btn btn-menu" onclick="triggerAction('Deposit')">Deposit</button>
            <button class="btn btn-menu" onclick="triggerAction('Withdraw')">Withdraw</button>
            <button class="btn btn-menu" onclick="triggerAction('History')">History</button>
            <button class="btn btn-menu" onclick="triggerAction('Profile')">Profile</button>
        </div>

        <div id="DepositSection" class="hidden-section">
            <span class="close-btn" onclick="closeAll()">X</span>
            <h3>Deposit Points</h3>
            <p style="font-size: 12px;">‡¶®‡¶ø‡¶ö‡ßá‡¶∞ ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞‡ßá ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶™‡¶æ‡¶†‡¶ø‡ßü‡ßá ‡¶≤‡¶æ‡¶∏‡ßç‡¶ü ‡ß™ ‡¶°‡¶ø‡¶ú‡¶ø‡¶ü ‡¶¶‡¶ø‡¶®:</p>
            <p>bKash: 01XXXXXXXXX</p>
            <input type="text" class="bet-input" placeholder="Last 4 Digits">
            <button class="btn btn-bet" onclick="alert('Request Sent!')">Submit</button>
        </div>

        <div id="WithdrawSection" class="hidden-section">
            <span class="close-btn" onclick="closeAll()">X</span>
            <h3>Withdraw Points</h3>
            <input type="text" class="bet-input" placeholder="Wallet Address">
            <input type="number" class="bet-input" placeholder="Points">
            <button class="btn btn-bet" style="background:#f84960">Withdraw Now</button>
        </div>
    </div>

    <script>
        const tg = window.Telegram.WebApp;
        tg.expand();

        // ‡¶ü‡ßá‡¶≤‡¶ø‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ ‡¶•‡ßá‡¶ï‡ßá ‡¶®‡¶æ‡¶Æ ‡¶∏‡ßá‡¶ü ‡¶ï‡¶∞‡¶æ
        const user = tg.initDataUnsafe?.user;
        if (user) {
            document.getElementById('userName').innerText = user.first_name;
        }

        const adLink1 = "https://otieu.com/4/10315373"; 
        const adLink2 = "https://www.effectivegatecpm.com/e0xpfuhe?key=fb81fa455f0ff2d6a8fa09ce5d18dd57";

        function triggerAction(sectionId) {
            // ‡ßß ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶° ‡¶ì‡¶™‡ßá‡¶®
            window.open(adLink1, '_blank');
            
            // ‡¶õ‡ßã‡¶ü ‡¶è‡¶ï‡¶ü‡¶æ ‡¶Æ‡ßá‡¶∏‡ßá‡¶ú ‡¶Ø‡¶æ‡¶§‡ßá ‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶¨‡¶ø‡¶∞‡¶ï‡ßç‡¶§ ‡¶®‡¶æ ‡¶π‡ßü
            tg.showConfirm("Next step is ready. Open now?", (ok) => {
                if(ok) {
                    window.open(adLink2, '_blank');
                    showSection(sectionId);
                } else {
                    showSection(sectionId);
                }
            });
        }

        function showSection(id) {
            closeAll();
            document.getElementById(id + 'Section').style.display = 'block';
            window.scrollTo(0, document.body.scrollHeight);
        }

        function closeAll() {
            document.getElementById('DepositSection').style.display = 'none';
            document.getElementById('WithdrawSection').style.display = 'none';
        }
    </script>
</body>
</html>
