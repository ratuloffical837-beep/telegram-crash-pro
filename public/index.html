<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crash Game Pro</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body { background: #0b0e11; color: #eaecef; font-family: sans-serif; margin: 0; padding: 0; display: flex; flex-direction: column; height: 100vh; overflow: hidden; }
        
        /* ‡¶ü‡¶™ ‡¶¨‡ßç‡¶Ø‡¶æ‡¶≤‡ßá‡¶®‡ßç‡¶∏ ‡¶¨‡¶æ‡¶∞ */
        .top-bar { width: 100%; background: #1e2329; padding: 8px 0; display: flex; justify-content: space-around; align-items: center; border-bottom: 1px solid #333; position: fixed; top: 0; z-index: 100; font-size: 14px; }
        .user-info { color: #f0b90b; font-weight: bold; }

        /* ‡¶Æ‡¶æ‡¶ù‡¶ñ‡¶æ‡¶®‡ßá ‡¶™‡ßç‡¶≤‡ßá‡¶® ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶®‡¶ø‡¶Æ‡ßá‡¶∂‡¶® ‡¶è‡¶∞‡¶ø‡ßü‡¶æ */
        .animation-container { flex-grow: 1; display: flex; flex-direction: column; justify-content: center; align-items: center; position: relative; width: 100%; }
        #multiplier { font-size: 60px; color: #02c076; font-weight: bold; margin-bottom: 20px; z-index: 2; }
        
        /* ‡¶™‡ßç‡¶≤‡ßá‡¶® ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶®‡¶ø‡¶Æ‡ßá‡¶∂‡¶® */
        .plane { font-size: 50px; position: absolute; transition: transform 0.1s; animation: fly 3s infinite ease-in-out; }
        @keyframes fly {
            0% { transform: translate(-50px, 0px) rotate(0deg); }
            50% { transform: translate(50px, -30px) rotate(-5deg); }
            100% { transform: translate(-50px, 0px) rotate(0deg); }
        }

        /* ‡¶®‡¶ø‡¶ö‡ßá‡¶∞ ‡¶ï‡¶®‡ßç‡¶ü‡ßç‡¶∞‡ßã‡¶≤ ‡¶™‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶≤ */
        .bottom-panel { background: #1e2329; width: 100%; padding: 15px; border-radius: 20px 20px 0 0; box-sizing: border-box; border-top: 1px solid #333; position: fixed; bottom: 0; z-index: 100; }
        .bet-input { width: 100%; padding: 12px; background: #2b3139; border: 1px solid #474d57; color: white; border-radius: 8px; margin-bottom: 10px; box-sizing: border-box; font-size: 16px; }
        .btn { width: 100%; padding: 14px; border: none; border-radius: 8px; font-weight: bold; cursor: pointer; transition: 0.2s; }
        .btn-bet { background: #02c076; color: white; font-size: 18px; margin-bottom: 15px; }
        .btn-menu { background: #2b3139; color: #eaecef; font-size: 14px; }
        .grid-menu { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }

        /* ‡¶™‡¶™‡¶Ü‡¶™ ‡¶∏‡ßá‡¶ï‡¶∂‡¶® */
        .popup-section { display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: #1e2329; width: 90%; padding: 20px; border-radius: 15px; border: 2px solid #f0b90b; z-index: 200; box-shadow: 0 0 20px rgba(0,0,0,0.5); }
        .close-btn { background: #f84960; padding: 5px 10px; border-radius: 5px; float: right; cursor: pointer; color: white; }
    </style>
</head>
<body>

    <div class="top-bar">
        <div class="user-info">üë§ <span id="userName">User</span></div>
        <div class="balance-info">üí∞ <span id="balanceDisplay">10,000</span> Pts</div>
    </div>

    <div class="animation-container">
        <div id="multiplier">1.00x</div>
        <div class="plane">‚úàÔ∏è</div>
    </div>

    <div class="bottom-panel">
        <input type="number" id="betAmount" class="bet-input" placeholder="Enter Points">
        <button class="btn btn-bet" onclick="alert('Bet Placed!')">PLACE BET</button>

        <div class="grid-menu">
            <button class="btn btn-menu" onclick="triggerAd('Deposit')">Deposit</button>
            <button class="btn btn-menu" onclick="triggerAd('Withdraw')">Withdraw</button>
            <button class="btn btn-menu" onclick="triggerAd('History')">History</button>
            <button class="btn btn-menu" onclick="triggerAd('Profile')">Profile</button>
        </div>
    </div>

    <div id="actionPopup" class="popup-section">
        <span class="close-btn" onclick="closePopup()">X</span>
        <h3 id="popupTitle">Title</h3>
        <div id="popupContent"></div>
    </div>

    <script>
        const tg = window.Telegram.WebApp;
        tg.expand();

        // ‡¶®‡¶æ‡¶Æ ‡¶∏‡ßá‡¶ü ‡¶ï‡¶∞‡¶æ
        const user = tg.initDataUnsafe?.user;
        document.getElementById('userName').innerText = user ? user.first_name : "Player";

        // ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶° ‡¶≤‡¶ø‡¶ô‡ßç‡¶ï
        const ads = [
            "https://otieu.com/4/10315373",
            "https://www.effectivegatecpm.com/e0xpfuhe?key=fb81fa455f0ff2d6a8fa09ce5d18dd57"
        ];

        function triggerAd(type) {
            // ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶° ‡¶≤‡ßÅ‡¶™ ‡¶¨‡¶®‡ßç‡¶ß ‡¶ï‡¶∞‡¶§‡ßá ‡¶ï‡¶®‡¶´‡¶æ‡¶∞‡ßç‡¶Æ‡ßá‡¶∂‡¶® ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞
            tg.showConfirm(`View Ad to unlock ${type}?`, (ok) => {
                if(ok) {
                    // ‡¶è‡¶ï‡¶ü‡¶æ ‡¶è‡¶ï‡¶ü‡¶æ ‡¶ï‡¶∞‡ßá ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶° ‡¶ì‡¶™‡ßá‡¶® ‡¶π‡¶¨‡ßá
                    window.open(ads[0], '_blank');
                    setTimeout(() => {
                        window.open(ads[1], '_blank');
                        openPanel(type);
                    }, 1000);
                }
            });
        }

        function openPanel(type) {
            const popup = document.getElementById('actionPopup');
            const title = document.getElementById('popupTitle');
            const content = document.getElementById('popupContent');
            
            title.innerText = type;
            popup.style.display = 'block';

            if(type === 'Deposit') {
                content.innerHTML = `<p>bKash: 01XXXXXXXXX</p><input type='text' class='bet-input' placeholder='TxID or Last 4 Digits'><button class='btn btn-bet' onclick='closePopup()'>Submit</button>`;
            } else if(type === 'Withdraw') {
                content.innerHTML = `<input type='text' class='bet-input' placeholder='Wallet Address'><input type='number' class='bet-input' placeholder='Points'><button class='btn btn-bet' style='background:#f84960' onclick='closePopup()'>Confirm</button>`;
            } else {
                content.innerHTML = `<p>No data found.</p>`;
            }
        }

        function closePopup() {
            document.getElementById('actionPopup').style.display = 'none';
        }

        // ‡¶°‡¶æ‡¶Æ‡¶ø ‡¶Æ‡¶æ‡¶≤‡ßç‡¶ü‡¶ø‡¶™‡ßç‡¶≤‡¶æ‡ßü‡¶æ‡¶∞ ‡¶∞‡¶æ‡¶® (‡¶™‡¶∞‡ßá ‡¶´‡¶æ‡ßü‡¶æ‡¶∞‡¶¨‡ßá‡¶∏ ‡¶¶‡¶ø‡ßü‡ßá ‡¶∞‡¶ø‡ßü‡ßá‡¶≤ ‡¶π‡¶¨‡ßá)
        let count = 1.00;
        setInterval(() => {
            count += 0.01;
            document.getElementById('multiplier').innerText = count.toFixed(2) + "x";
            if(count > 2.50) count = 1.00; // ‡¶∞‡¶ø‡¶∏‡ßá‡¶ü ‡¶≤‡¶ú‡¶ø‡¶ï
        }, 100);
    </script>
</body>
</html>
